{"version":3,"sources":["./src/app/routes/purchase_contract/form/purchase_contract-form.component.html","./src/app/routes/purchase_contract/list/purchase_contract-list.component.html","./src/app/routes/purchase_contract/purchase_contract.component.html","./src/app/routes/purchase_contract/form/purchase_contract-form.component.ts","./src/app/routes/purchase_contract/list/purchase_contract-list.component.ts","./src/app/routes/purchase_contract/purchase_contract-routing.module.ts","./src/app/routes/purchase_contract/purchase_contract.component.ts","./src/app/routes/purchase_contract/purchase_contract.module.ts","./src/app/routes/purchase_contract/purchase_contract.service.ts"],"names":[],"mappings":"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","file":"purchase_contract-purchase_contract-module-es2015.js","sourcesContent":["module.exports = \"<page-header nzTitle=\\\"创建合同\\\">\\r\\n    <button nz-button class=\\\"ml-sm\\\" type=\\\"return\\\" (click)=\\\"goBack()\\\">返回</button>\\r\\n</page-header>\\r\\n<div nz-row [nzGutter]=\\\"24\\\" class=\\\"pt-lg\\\">\\r\\n    <div nz-col nzXs=\\\"24\\\" nzSm=\\\"12\\\" nzMd=\\\"24\\\" class=\\\"mb-md\\\">\\r\\n        <nz-card [nzBordered]=\\\"false\\\">\\r\\n            <form nz-form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"submit()\\\" [nzLayout]=\\\"'vertical'\\\">\\r\\n                <nz-card [nzBordered]=\\\"false\\\" nzTitle=\\\"销售合同管理\\\">\\r\\n                    <nz-row nzGutter=\\\"16\\\">\\r\\n                        <nz-col nzLg=\\\"6\\\" nzMd=\\\"12\\\" nzSm=\\\"24\\\">\\r\\n                            <nz-form-item>\\r\\n                                <nz-form-label nzFor=\\\"name\\\">合同编号</nz-form-label>\\r\\n                                <nz-form-control nzErrorTip=\\\"请输入合同编号，大于两个字符\\\" required>\\r\\n                                    <input nz-input formControlName=\\\"cno\\\" placeholder=\\\"请输入合同编号\\\" />\\r\\n                                </nz-form-control>\\r\\n                            </nz-form-item>\\r\\n                        </nz-col>\\r\\n                        <nz-col [nzXl]=\\\"{ span: 6, offset: 2 }\\\" [nzLg]=\\\"{ span: 8 }\\\" [nzMd]=\\\"{ span: 12 }\\\" nzSm=\\\"24\\\">\\r\\n                            <nz-form-item>\\r\\n                                <nz-form-label>合同名称</nz-form-label>\\r\\n                                <nz-form-control nzErrorTip=\\\"请输入合同名称，大于两个字符\\\" required>\\r\\n                                    <input nz-input formControlName=\\\"cname\\\" placeholder=\\\"请输入合同名称\\\" />\\r\\n                                </nz-form-control>\\r\\n                            </nz-form-item>\\r\\n                        </nz-col>\\r\\n                        <nz-col [nzXl]=\\\"{ span: 8, offset: 2 }\\\" [nzLg]=\\\"{ span: 10 }\\\" [nzMd]=\\\"{ span: 24 }\\\" nzSm=\\\"24\\\">\\r\\n                            <nz-form-item>\\r\\n                                <nz-form-label>项目类型</nz-form-label>\\r\\n                                <nz-form-control nzErrorTip=\\\"请选择项目类型\\\" required>\\r\\n                                    <nz-select formControlName=\\\"project_id\\\" placeholder=\\\"请选择项目类型\\\"\\r\\n                                        [(ngModel)]=\\\"selectedOption\\\" [nzPlaceHolder]=\\\"myPlaceHolder\\\" nzAllowClear\\r\\n                                        [nzShowSearch]=\\\"true\\\" [nzNotFoundContent]=\\\"'无匹配'\\\">\\r\\n                                        <nz-option *ngFor=\\\"let option of project_data\\\" [nzLabel]=\\\"option.pname\\\"\\r\\n                                            [nzValue]=\\\"option.id\\\" [nzDisabled]=\\\"option.disabled\\\">\\r\\n                                        </nz-option>\\r\\n                                    </nz-select>\\r\\n                                </nz-form-control>\\r\\n                            </nz-form-item>\\r\\n                        </nz-col>\\r\\n                    </nz-row>\\r\\n                    <nz-row nzGutter=\\\"16\\\">\\r\\n                        <nz-col nzLg=\\\"6\\\" nzMd=\\\"12\\\" nzSm=\\\"24\\\">\\r\\n                            <nz-form-item>\\r\\n                                <nz-form-label>甲方</nz-form-label>\\r\\n                                <nz-form-control nzErrorTip=\\\"请输入甲方，大于两个字符\\\" required>\\r\\n                                    <input nz-input formControlName=\\\"party_a\\\" placeholder=\\\"请输入甲方\\\" />\\r\\n                                </nz-form-control>\\r\\n                            </nz-form-item>\\r\\n                        </nz-col>\\r\\n                        <nz-col [nzXl]=\\\"{ span: 6, offset: 2 }\\\" [nzLg]=\\\"{ span: 8 }\\\" [nzMd]=\\\"{ span: 12 }\\\" nzSm=\\\"24\\\">\\r\\n                            <nz-form-item>\\r\\n                                <nz-form-label>乙方</nz-form-label>\\r\\n                                <nz-form-control nzErrorTip=\\\"请输入乙方，大于两个字符\\\" required>\\r\\n                                    <input nz-input formControlName=\\\"party_b\\\" placeholder=\\\"请输入乙方\\\" />\\r\\n                                </nz-form-control>\\r\\n                            </nz-form-item>\\r\\n                        </nz-col>\\r\\n                        <nz-col [nzXl]=\\\"{ span: 8, offset: 2 }\\\" [nzLg]=\\\"{ span: 10 }\\\" [nzMd]=\\\"{ span: 24 }\\\" nzSm=\\\"24\\\">\\r\\n                            <nz-form-item>\\r\\n                                <nz-form-label>合同额</nz-form-label>\\r\\n                                <nz-form-control nzErrorTip=\\\"请输入合同额，大于两个字符\\\" required>\\r\\n                                    <input nz-input formControlName=\\\"amount\\\" placeholder=\\\"请输入合同额\\\" />\\r\\n                                </nz-form-control>\\r\\n                            </nz-form-item>\\r\\n                        </nz-col>\\r\\n                    </nz-row>\\r\\n                    <nz-row>\\r\\n                        <nz-col nzLg=\\\"6\\\" nzMd=\\\"12\\\" nzSm=\\\"24\\\">\\r\\n                            <nz-form-item>\\r\\n                                <nz-form-label>签订日期</nz-form-label>\\r\\n                                <nz-form-control nzErrorTip=\\\"请选择签订日期\\\" required>\\r\\n                                    <nz-date-picker formControlName=\\\"sign_date\\\"></nz-date-picker>\\r\\n                                </nz-form-control>\\r\\n                            </nz-form-item>\\r\\n                        </nz-col>\\r\\n                        <nz-col [nzXl]=\\\"{ span: 6, offset: 2 }\\\" [nzLg]=\\\"{ span: 8 }\\\" [nzMd]=\\\"{ span: 12 }\\\" nzSm=\\\"24\\\">\\r\\n                            <nz-form-item>\\r\\n                                <nz-form-label>终止日期</nz-form-label>\\r\\n                                <nz-form-control nzErrorTip=\\\"请选择终止日期\\\" required>\\r\\n                                    <nz-date-picker formControlName=\\\"expiry_date\\\"></nz-date-picker>\\r\\n                                </nz-form-control>\\r\\n                            </nz-form-item>\\r\\n                        </nz-col>\\r\\n                        <nz-col [nzXl]=\\\"{ span: 8, offset: 2 }\\\" [nzLg]=\\\"{ span: 10 }\\\" [nzMd]=\\\"{ span: 24 }\\\" nzSm=\\\"24\\\">\\r\\n                            <nz-form-item>\\r\\n                                <nz-form-label>描述</nz-form-label>\\r\\n                                <nz-form-control nzErrorTip=\\\"请输入描述，大于两个字符\\\" required>\\r\\n                                    <textarea rows=\\\"1\\\" nz-input formControlName=\\\"comments\\\"\\r\\n                                        placeholder=\\\"请输入描述\\\"></textarea>\\r\\n                                </nz-form-control>\\r\\n                            </nz-form-item>\\r\\n                        </nz-col>\\r\\n                    </nz-row>\\r\\n                </nz-card>\\r\\n                <!-- 合同子表 -->\\r\\n                <nz-card [nzBordered]=\\\"false\\\" nzTitle=\\\"合同明细子表\\\">\\r\\n                    <nz-table formArrayName=\\\"purchase_contract_details\\\" [nzData]=\\\"purchase_contract_details.value\\\"\\r\\n                        [nzShowPagination]=\\\"false\\\">\\r\\n                        <thead>\\r\\n                            <tr>\\r\\n                                <th>笔次信息</th>\\r\\n                                <th>发票金额</th>\\r\\n                                <th>实付金额</th>\\r\\n                                <th>发票信息</th>\\r\\n                                <th>实付信息</th>\\r\\n                                <th>操作</th>\\r\\n                            </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                            <tr *ngFor=\\\"let item of purchase_contract_details.controls; let i = index\\\"\\r\\n                                [formGroupName]=\\\"i\\\">\\r\\n                                <td>\\r\\n                                    <span\\r\\n                                        *ngIf=\\\"editIndex !== i\\\">{{ purchase_contract_details.value[i].issue_name }}</span>\\r\\n                                    <span *ngIf=\\\"editIndex === i\\\" nz-form-control nzErrorTip=\\\"请输入笔次信息\\\">\\r\\n                                        <input nz-input formControlName=\\\"issue_name\\\" placeholder=\\\"请输入笔次信息\\\" />\\r\\n                                    </span>\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    <span\\r\\n                                        *ngIf=\\\"editIndex !== i\\\">{{ purchase_contract_details.value[i].invoice_amount }}</span>\\r\\n                                    <span *ngIf=\\\"editIndex === i\\\" nz-form-control nzErrorTip=\\\"请输入发票金额\\\">\\r\\n                                        <input nz-input formControlName=\\\"invoice_amount\\\" placeholder=\\\"发票金额\\\" />\\r\\n                                    </span>\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    <span\\r\\n                                        *ngIf=\\\"editIndex !== i\\\">{{ purchase_contract_details.value[i].actual_payment }}</span>\\r\\n                                    <span *ngIf=\\\"editIndex === i\\\" nz-form-control nzErrorTip=\\\"请输入实付金额\\\">\\r\\n                                        <input nz-input formControlName=\\\"actual_payment\\\" placeholder=\\\"请输入实付金额\\\" />\\r\\n                                    </span>\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    <span\\r\\n                                        *ngIf=\\\"editIndex !== i\\\">{{ purchase_contract_details.value[i].invoice_date }}</span>\\r\\n                                    <span *ngIf=\\\"editIndex === i\\\" nz-form-control nzErrorTip=\\\"请选择发票日期\\\">\\r\\n                                        <nz-date-picker formControlName=\\\"invoice_date\\\"></nz-date-picker>\\r\\n                                    </span>\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    <span\\r\\n                                        *ngIf=\\\"editIndex !== i\\\">{{ purchase_contract_details.value[i].payment_date }}</span>\\r\\n                                    <span *ngIf=\\\"editIndex === i\\\" nz-form-control nzErrorTip=\\\"请选择实付日期\\\">\\r\\n                                        <nz-date-picker formControlName=\\\"payment_date\\\"></nz-date-picker>\\r\\n                                    </span>\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    <span *ngIf=\\\"editIndex !== i\\\">\\r\\n                                        <a (click)=\\\"edit(i)\\\">编辑</a>\\r\\n                                        <nz-divider nzType=\\\"vertical\\\"></nz-divider>\\r\\n                                        <nz-popconfirm (nzOnConfirm)=\\\"del(i)\\\" [nzTitle]=\\\"'是否要删除此行？'\\\">\\r\\n                                            <a nz-popconfirm>删除</a>\\r\\n                                        </nz-popconfirm>\\r\\n                                    </span>\\r\\n                                    <span *ngIf=\\\"editIndex === i\\\">\\r\\n                                        <a (click)=\\\"save(i)\\\">保存</a>\\r\\n                                        <nz-divider nzType=\\\"vertical\\\"></nz-divider>\\r\\n                                        <nz-popconfirm (nzOnConfirm)=\\\"cancel(i)\\\" [nzTitle]=\\\"'是否要取消操作？'\\\">\\r\\n                                            <a nz-popconfirm>取消</a>\\r\\n                                        </nz-popconfirm>\\r\\n                                    </span>\\r\\n                                </td>\\r\\n                            </tr>\\r\\n                        </tbody>\\r\\n                    </nz-table>\\r\\n                    <button *ngIf=\\\"editIndex === -1\\\" nz-button [nzType]=\\\"'dashed'\\\" (click)=\\\"add()\\\" nzBlock\\r\\n                        class=\\\"mt-md\\\">\\r\\n                        <i nz-icon nzType=\\\"plus\\\"></i>\\r\\n                        <span>新增明细</span>\\r\\n                    </button>\\r\\n                </nz-card>\\r\\n                <footer-toolbar errorCollect>\\r\\n                    <button nz-button class=\\\"ml-sm\\\" type=\\\"reset\\\">重置</button>\\r\\n                    <button nz-button type=\\\"submit\\\" nzType=\\\"primary\\\" [disabled]=\\\"form.invalid\\\"\\r\\n                        [nzLoading]=\\\"submitting\\\">提交</button>\\r\\n                </footer-toolbar>\\r\\n\\r\\n\\r\\n            </form>\\r\\n        </nz-card>\\r\\n    </div>\\r\\n</div>\"","module.exports = \"<div nz-row [nzGutter]=\\\"24\\\" class=\\\"pt-lg\\\">\\r\\n    <div nz-col nzXs=\\\"24\\\" nzSm=\\\"12\\\" nzMd=\\\"24\\\" class=\\\"mb-md\\\">\\r\\n        <nz-card [nzBordered]=\\\"false\\\" [nzTitle]=\\\"title\\\">\\r\\n            <form nz-form [nzLayout]=\\\"'inline'\\\" (ngSubmit)=\\\"getData()\\\" class=\\\"search__form\\\">\\r\\n                <div nz-row [nzGutter]=\\\"{ xs: 8, sm: 8, md: 8, lg: 24, xl: 48, xxl: 48 }\\\">\\r\\n                    <div nz-col nzMd=\\\"8\\\" nzSm=\\\"24\\\">\\r\\n                        <nz-form-item>\\r\\n                            <nz-form-label nzFor=\\\"no\\\">名称</nz-form-label>\\r\\n                            <nz-form-control>\\r\\n                                <input nz-input [(ngModel)]=\\\"q.cname\\\" name=\\\"cname\\\" placeholder=\\\"输入名称搜索\\\" id=\\\"cname\\\" />\\r\\n                            </nz-form-control>\\r\\n                        </nz-form-item>\\r\\n                    </div>\\r\\n\\r\\n                    <div nz-col [nzSpan]=\\\"expandForm ? 24 : 8\\\" [class.text-right]=\\\"expandForm\\\">\\r\\n                        <button nz-button type=\\\"submit\\\" [nzType]=\\\"'primary'\\\" [nzLoading]=\\\"loading\\\">查询</button>\\r\\n                        <button nz-button type=\\\"reset\\\" (click)=\\\"reset()\\\" class=\\\"mx-sm\\\">重置</button>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </form>\\r\\n            <div class=\\\"mb-md\\\">\\r\\n                <button nz-button (click)=\\\"add()\\\" [nzType]=\\\"'primary'\\\">\\r\\n                    <i nz-icon nzType=\\\"plus\\\"></i>\\r\\n                    <span>新建</span>\\r\\n                </button>\\r\\n            </div>\\r\\n\\r\\n            <nz-table #nzTable [nzData]=\\\"data\\\" [nzTotal]=\\\"total\\\" [nzPageSize]=\\\"q.ps\\\" [nzLoading]=\\\"loading\\\"\\r\\n                (nzPageIndexChange)=\\\"pageChange($event)\\\" nzShowSizeChanger>\\r\\n                <thead nz-thead (nzSortChange)=\\\"sort($event)\\\" nzSingleSort>\\r\\n                    <tr>\\r\\n                        <th nz-th nzShowSort nzSortKey=\\\"cno\\\">\\r\\n                            <span>编号</span>\\r\\n                        </th>\\r\\n                        <th nz-th nzShowSort nzSortKey=\\\"cname\\\">\\r\\n                            <span>名称</span>\\r\\n                        </th>\\r\\n                        <th nz-th nzShowSort nzSortKey=\\\"party_a\\\">\\r\\n                            <span>甲方</span>\\r\\n                        </th>\\r\\n                        <th nz-th nzShowSort nzSortKey=\\\"party_b\\\">\\r\\n                            <span>乙方</span>\\r\\n                        </th>\\r\\n                        <th nz-th nzShowSort nzSortKey=\\\"sign_date\\\">\\r\\n                            <span>签订日期</span>\\r\\n                        </th>\\r\\n                        <th nz-th nzShowSort nzSortKey=\\\"expiry_date\\\">\\r\\n                            <span>终止日期</span>\\r\\n                        </th>\\r\\n                        <th nz-th nzShowSort nzSortKey=\\\"amount\\\">\\r\\n                            <span>合同额</span>\\r\\n                        </th>\\r\\n                        <th nz-th nzShowSort nzSortKey=\\\"comments\\\">\\r\\n                            <span>描述</span>\\r\\n                        </th>\\r\\n                        <th nz-th nzShowSort nzSortKey=\\\"project_id\\\">\\r\\n                            <span>项目类型</span>\\r\\n                        </th>\\r\\n\\r\\n                        <th nz-th>\\r\\n                            <span>操作</span>\\r\\n                        </th>\\r\\n                    </tr>\\r\\n                </thead>\\r\\n                <tbody nz-tbody>\\r\\n                    <tr nz-tbody-tr *ngFor=\\\"let i of nzTable.data\\\">\\r\\n                        <td nz-td>{{i.cno}}</td>\\r\\n                        <td nz-td>{{i.cname}}</td>\\r\\n                        <td nz-td>{{i.party_a}}</td>\\r\\n                        <td nz-td>{{i.party_b}}</td>\\r\\n                        <td nz-td>{{i.sign_date}}</td>\\r\\n                        <td nz-td>{{i.expiry_date}}</td>\\r\\n                        <td nz-td>{{i.amount}}</td>\\r\\n                        <td nz-td>{{i.comments}}</td>\\r\\n                        <td nz-td>{{i.project_id}}</td>\\r\\n                        <td nz-td>\\r\\n                            <a (click)=\\\"modify(i.id)\\\">修改</a>\\r\\n                            <span nz-table-divider></span>\\r\\n                            <nz-divider nzType=\\\"vertical\\\"></nz-divider>\\r\\n                            <a (click)=\\\"remove(i)\\\">删除</a>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                </tbody>\\r\\n            </nz-table>\\r\\n        </nz-card>\\r\\n    </div>\\r\\n</div>\"","module.exports = \"<router-outlet></router-outlet>\"","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators, FormControl, FormArray } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { NzMessageService } from 'ng-zorro-antd';\r\nimport { UploadFile } from 'ng-zorro-antd';\r\nimport { getFormatDateStr, getDateByDateStr } from '../../../shared/utils/datehandler';\r\nimport { PurchaseContractService } from '../purchase_contract.service';\r\nimport { ProjectService } from '../../project/project.service';\r\nimport { MessageRemindingService } from '../../../message-reminding.service';\r\n\r\n@Component({\r\n  templateUrl: './purchase_contract-form.component.html',\r\n  //styleUrls: ['./purchase_contract-form.component.less']\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\n\r\nexport class PurchaseContractFormComponent implements OnInit {\r\n  editIndex = -1;\r\n  editObj = {};\r\n\r\n  form: FormGroup;\r\n  submitting = false;\r\n  title: string;\r\n  purchase_contract: any = {};\r\n  options = [];  //接收select的数组\r\n\r\n  submit_audit = false;\r\n  submit_string = '提交';\r\n\r\n  editable = true;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private msg: NzMessageService,\r\n    private cdr: ChangeDetectorRef,\r\n    private router: Router,\r\n    private srv: PurchaseContractService,\r\n    private projectService: ProjectService,\r\n    private wsSrv: MessageRemindingService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    //获取项目类型\r\n    this.getProjectData();\r\n    //消息提醒服务\r\n    // this.channel = this.wsSrv.getChannel(\"reminding:purchase_contract\");\r\n\r\n    let op = this.srv.formOperation;\r\n    if (op == 'create') this.initCreate();\r\n    if (op == 'update') this.initUpdate();\r\n    if (op == 'audit') this.initAudit();\r\n    if (op == 'show') this.initShow();\r\n    //if (this.srv.isUpdate) this.initUpdate();\r\n    //this.setTitle();\r\n    this.form = this.fb.group({\r\n      cno: [\r\n        this.purchase_contract.cno ? this.purchase_contract.cno : null,\r\n        Validators.compose([Validators.required, Validators.minLength(2)]),\r\n      ],\r\n      cname: [\r\n        this.purchase_contract.cname ? this.purchase_contract.cname : null,\r\n        Validators.compose([Validators.required, Validators.minLength(2)]),\r\n      ],\r\n      project_id: [this.purchase_contract.project_id ? this.purchase_contract.project_id : null],\r\n      party_a: [\r\n        this.purchase_contract.party_a ? this.purchase_contract.party_a : null,\r\n        Validators.compose([Validators.required, Validators.minLength(2)]),\r\n      ],\r\n      party_b: [\r\n        this.purchase_contract.party_b ? this.purchase_contract.party_b : null,\r\n        Validators.compose([Validators.required, Validators.minLength(2)]),\r\n      ],\r\n      sign_date: [this.purchase_contract.sign_date ? getDateByDateStr(this.purchase_contract.sign_date) : null, [Validators.required]],\r\n      expiry_date: [this.purchase_contract.expiry_date ? getDateByDateStr(this.purchase_contract.expiry_date) : null, [Validators.required]],\r\n      amount: [this.purchase_contract.amount ? this.purchase_contract.amount : null, [Validators.required]],\r\n      comments: [this.purchase_contract.comments ? this.purchase_contract.comments : null, []],\r\n\r\n      purchase_contract_details: this.fb.array([])\r\n    });\r\n    if ((op == 'update') || (op == 'audit' || (op == 'show'))) {\r\n      this.purchase_contract.purchase_contract_details ? this.purchase_contract.purchase_contract_details.forEach(i => {\r\n        const field = this.createDetail();\r\n        field.patchValue(i);\r\n        this.purchase_contract_details.push(field);\r\n      }) : console.log(\"this purchase_contract has no purchase_contract_details.\");\r\n    }\r\n  }\r\n\r\n  //新增明细\r\n  createDetail(): FormGroup {\r\n    return this.fb.group({\r\n      issue_name: [null, [Validators.required]],\r\n      invoice_amount: [null, [Validators.required]],\r\n      actual_payment: [null, [Validators.required]],\r\n      invoice_date: [null, [Validators.required]],\r\n      payment_date: [null, [Validators.required]],\r\n    });\r\n  }\r\n\r\n  //#region get form fields\r\n  get cno() { return this.form.controls.cno; }\r\n  get cname() { return this.form.controls.cname; }\r\n  get project_id() { return this.form.controls.project_id; }\r\n  get party_a() { return this.form.controls.party_a; }\r\n  get party_b() { return this.form.controls.party_b; }\r\n  get sign_date() { return this.form.controls.sign_date; }\r\n  get expiry_date() { return this.form.controls.expiry_date; }\r\n  get amount() { return this.form.controls.amount; }\r\n  get comments() { return this.form.controls.comments; }\r\n\r\n  get purchase_contract_details() { return this.form.controls.purchase_contract_details as FormArray; }\r\n\r\n  //#endregion\r\n  add() {\r\n    this.purchase_contract_details.push(this.createDetail());\r\n    this.edit(this.purchase_contract_details.length - 1);\r\n  }\r\n\r\n  del(index: number) {\r\n    this.purchase_contract_details.removeAt(index);\r\n\r\n  }\r\n\r\n  edit(index: number) {\r\n    if (this.editIndex !== -1 && this.editObj) {\r\n      this.purchase_contract_details.at(this.editIndex).patchValue(this.editObj);\r\n    }\r\n    this.editObj = { ...this.purchase_contract_details.at(index).value };\r\n    this.editIndex = index;\r\n  }\r\n\r\n  save(index: number) {\r\n    this.purchase_contract_details.at(index).markAsDirty();\r\n    if (this.purchase_contract_details.at(index).invalid) return;\r\n    this.editIndex = -1;\r\n  }\r\n\r\n  cancel(index: number) {\r\n    if (!this.purchase_contract_details.at(index).value.key) {\r\n      this.del(index);\r\n    } else {\r\n      this.purchase_contract_details.at(index).patchValue(this.editObj);\r\n    }\r\n    this.editIndex = -1;\r\n  }\r\n\r\n\r\n  //提交表\r\n  submit() {\r\n    console.log('表格提交')\r\n    for (const i in this.form.controls) {\r\n      this.form.controls[i].markAsDirty();\r\n    }\r\n    if (this.form.invalid) {\r\n      this.msg.info('ya! this.form.invalid!');\r\n      return;\r\n    }\r\n    if (this.form.valid) {\r\n      let op = this.srv.formOperation;\r\n      if (op == 'create') {\r\n        this.submitting = true;\r\n        const obj = this.formmatFormValue();\r\n        this.srv.add(obj).subscribe(resp => {\r\n          this.submitting = false;\r\n          if (resp['data']) this.msg.success(`保存成功！`);\r\n          this.wsSrv.channel.push(\"new_msg\", { body: localStorage.getItem(\"real_name\") + \" 创建了 \" + resp['data']['cname'] })\r\n          this.router.navigateByUrl('/purchase_contract/page');\r\n          this.cdr.detectChanges();\r\n        });\r\n      }\r\n      if (op == 'update') {\r\n        this.submitting = true;\r\n        const obj = this.formmatFormValue();\r\n        this.srv.update(this.purchase_contract.id, obj).subscribe(resp => {\r\n          if (resp['data']) {\r\n            this.submitting = false;\r\n            if (resp['data']) this.msg.success(`保存成功！`);\r\n            this.router.navigateByUrl('/purchase_contract/page');\r\n            this.cdr.detectChanges();\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n  goBack() {\r\n    this.router.navigateByUrl('/purchase_contract/page');\r\n\r\n  }\r\n  initCreate() {\r\n    this.title = '创建采购合同';\r\n    this.submit_string = '提交';\r\n    // this.breadcrumbItem = { label: this.title, routerLink: \"/purchase_contract/form\" };\r\n    //this.globalService.addBreadcrumbItem(this.breadcrumbItem);\r\n  }\r\n\r\n  initUpdate() {\r\n    this.title = '修改采购合同';\r\n    this.submit_string = '提交修改';\r\n    //this.purchase_contract = this.purchase_contractForPurchaseService.updatePurchaseContract;\r\n    this.purchase_contract = this.srv.purchase_contract;\r\n  }\r\n\r\n  initAudit() {\r\n    this.title = '审核合同';\r\n    this.submit_audit = true;\r\n    this.editable = false;\r\n    this.submit_string = '审核通过';\r\n    //this.purchase_contract = this.purchase_contractForPurchaseService.updatePurchaseContract;\r\n    this.purchase_contract = this.srv.purchase_contract;\r\n  }\r\n\r\n  initShow() {\r\n    this.title = '查看合同';\r\n    this.editable = false;\r\n    //this.purchase_contract = this.purchase_contractForPurchaseService.updatePurchaseContract;\r\n    this.purchase_contract = this.srv.purchase_contract;\r\n  }\r\n\r\n  /* setTitle() {\r\n    if (this.srv.isUpdate) {\r\n      this.title = '修改合同';\r\n    } else this.title = '创建合同';\r\n  }*/\r\n\r\n  formmatFormValue() {\r\n    let obj = this.form.value;\r\n    obj.sign_date = getFormatDateStr(obj.sign_date);\r\n    return { purchase_contract: obj };\r\n  }\r\n\r\n  //获取项目类型\r\n  project_data: any[] = [];\r\n  p: any =\r\n    {\r\n      name: \"project_name\",\r\n    };\r\n\r\n\r\n  getProjectData() {\r\n    this.projectService.listAll().pipe()\r\n      .subscribe(\r\n        resp => {\r\n          this.project_data = resp['data'];\r\n          this.cdr.detectChanges();\r\n        })\r\n    console.log('项目类型', this.project_data)\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild, TemplateRef, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { NzMessageService, NzModalService } from 'ng-zorro-antd';\r\nimport { _HttpClient } from '@delon/theme';\r\nimport { tap } from 'rxjs/operators';\r\n\r\nimport { PurchaseContractService } from '../purchase_contract.service';\r\n\r\n@Component({\r\n  templateUrl: './purchase_contract-list.component.html',\r\n  //styleUrls: ['./purchase_contract-list.component.less'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\n\r\nexport class PurchaseContractListComponent implements OnInit {\r\n  title = '合同管理';\r\n  total = 0;\r\n  q: any = {\r\n    pi: 1,\r\n    ps: 10,\r\n    sort_field: 'sign_date',\r\n    sort_direction: 'desc',\r\n    cname: null,\r\n  };\r\n\r\n  data: any[] = [];\r\n  detailData: any[] = [];\r\n  idExpand: any;\r\n  loading = false;\r\n\r\n  expandForm = false;\r\n\r\n  constructor(\r\n    private http: _HttpClient,\r\n    public msg: NzMessageService,\r\n    private modalSrv: NzModalService,\r\n    private cdr: ChangeDetectorRef,\r\n    private srv: PurchaseContractService,\r\n    private router: Router,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    this.loading = true;\r\n    this.srv\r\n      .listOnePage(this.q)\r\n      .pipe(tap(() => (this.loading = false)))\r\n      .subscribe(\r\n        resp => {\r\n          this.data = resp['data'];\r\n          this.cdr.detectChanges();\r\n        }\r\n      );\r\n  }\r\n\r\n  // getDetailData(id) {\r\n  //   console.log(this.idExpand + \"===\" + id);\r\n  //   this.idExpand = id;\r\n  //   this.srv\r\n  //     .getById(id)\r\n  //     .then(result => { this.detailData = result.purchase_contract_details })\r\n  // }\r\n\r\n  add(tpl: TemplateRef<{}>) {\r\n    //this.srv.isUpdate = false;\r\n    this.srv.formOperation = 'create';\r\n    this.router.navigateByUrl('/purchase_contract/form');\r\n  }\r\n\r\n  modify(id) {\r\n    //this.srv.isUpdate = true;\r\n    this.srv.formOperation = 'update';\r\n    this.srv.getById(id).subscribe(resp => {\r\n      this.srv.purchase_contract = resp['data'];\r\n      this.srv.purchase_contract.purchase_contract_details = resp['data'].details;\r\n      console.log(this.srv.purchase_contract)\r\n      this.router.navigateByUrl('/purchase_contract/form');\r\n    });\r\n  }\r\n\r\n  remove(item) {\r\n    this.modalSrv.create({\r\n      nzTitle: '确认删除',\r\n      nzContent: '确认要删除合同：' + item.cname + ' 吗?',\r\n      nzOnOk: () => {\r\n        this.loading = true;\r\n        this.srv.delete(item.id).subscribe(\r\n          resp => {\r\n            if (resp['data']) this.msg.success(`删除成功！`);\r\n            this.reset();\r\n          }\r\n        );\r\n      },\r\n    });\r\n  }\r\n\r\n  reset() {\r\n    setTimeout(() => this.getData());\r\n  }\r\n\r\n  pageChange(pi: number) {\r\n    this.q.pi = pi;\r\n    this.reset();\r\n  }\r\n\r\n  sort(sort: { key: string; value: string }): void {\r\n    this.q.sort_field = sort.key;\r\n    this.q.sort_direction = sort.value;\r\n    this.reset();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { PurchaseContractComponent } from './purchase_contract.component';\r\nimport { PurchaseContractFormComponent } from './form/purchase_contract-form.component';\r\nimport { PurchaseContractListComponent } from './list/purchase_contract-list.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PurchaseContractComponent,\r\n    children: [\r\n      { path: '', redirectTo: 'page', pathMatch: 'full' },\r\n      { path: 'page', component: PurchaseContractListComponent },\r\n      { path: 'form', component: PurchaseContractFormComponent },\r\n    ],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class PurchaseContractRoutingModule { }\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  templateUrl: './purchase_contract.component.html',\r\n})\r\nexport class PurchaseContractComponent {\r\n  constructor() { }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { SharedModule } from '@shared/shared.module';\r\n\r\nimport { PurchaseContractRoutingModule } from './purchase_contract-routing.module';\r\nimport { PurchaseContractComponent } from './purchase_contract.component';\r\n\r\nimport { PurchaseContractFormComponent } from './form/purchase_contract-form.component';\r\nimport { PurchaseContractListComponent } from './list/purchase_contract-list.component';\r\n\r\nimport { PurchaseContractService } from './purchase_contract.service';\r\nimport { ProjectService } from '../project/project.service';\r\n\r\nconst COMPONENTS = [];\r\nconst COMPONENTS_NOROUNT = [];\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    PurchaseContractRoutingModule\r\n  ],\r\n  declarations: [\r\n    ...COMPONENTS,\r\n    ...COMPONENTS_NOROUNT,\r\n    PurchaseContractComponent,\r\n    PurchaseContractFormComponent,\r\n    PurchaseContractListComponent\r\n  ],\r\n  providers: [\r\n    PurchaseContractService,\r\n    ProjectService,\r\n  ],\r\n  entryComponents: COMPONENTS_NOROUNT\r\n})\r\nexport class PurchaseContractModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\n\r\nimport { baseUrl } from '../../shared/app-config';\r\nimport { setToken, setTokenAndParams } from '../../shared/utils/formmat';\r\n\r\n\r\n@Injectable()\r\nexport class PurchaseContractService {\r\n  constructor(private http: HttpClient) { }\r\n  url = baseUrl + 'purchase_contracts';\r\n  project_url = baseUrl + 'projects';\r\n  detail_url = baseUrl + 'purchase_contract_details';\r\n\r\n  purchase_contract: any = null;\r\n  //isUpdate = false;\r\n\r\n  listOnePage(q: any) {\r\n    return this.http.get(this.url, setTokenAndParams(q));\r\n  }\r\n\r\n  //获取合同明细页面\r\n  listDetailPage(q: any) {\r\n    return this.http.get(this.detail_url, setTokenAndParams(q));\r\n  }\r\n\r\n  getById(id) {\r\n    return this.http.get(this.url + `/${id}`, setToken());\r\n  }\r\n\r\n  add(obj) {\r\n    return this.http.post(this.url, obj, setToken());\r\n  }\r\n\r\n  update(id, obj) {\r\n    return this.http.put(this.url + `/${id}`, obj, setToken());\r\n  }\r\n\r\n  delete(id) {\r\n    return this.http.delete(this.url + `/${id}`, setToken());\r\n  }\r\n\r\n  formOperation = 'create';\r\n}\r\n"],"sourceRoot":""}