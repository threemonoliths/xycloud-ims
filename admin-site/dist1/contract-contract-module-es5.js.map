{"version":3,"sources":["./src/app/routes/contract/contract.component.html","./src/app/routes/contract/form/contract-form.component.html","./src/app/routes/contract/list/contract-list.component.html","./src/app/routes/contract/contract-routing.module.ts","./src/app/routes/contract/contract.component.ts","./src/app/routes/contract/contract.module.ts","./src/app/routes/contract/contract.service.ts","./src/app/routes/contract/form/contract-form.component.ts","./src/app/routes/contract/list/contract-list.component.ts"],"names":[],"mappings":"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","file":"contract-contract-module-es5.js","sourcesContent":["module.exports = \"<router-outlet></router-outlet>\"","module.exports = \"<page-header nzTitle=\\\"创建合同\\\">\\r\\n    <button nz-button class=\\\"ml-sm\\\" type=\\\"return\\\" (click)=\\\"goBack()\\\">返回</button>\\r\\n</page-header>\\r\\n<div nz-row [nzGutter]=\\\"24\\\" class=\\\"pt-lg\\\">\\r\\n    <div nz-col nzXs=\\\"24\\\" nzSm=\\\"12\\\" nzMd=\\\"24\\\" class=\\\"mb-md\\\">\\r\\n        <nz-card [nzBordered]=\\\"false\\\">\\r\\n            <form nz-form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"submit()\\\" [nzLayout]=\\\"'vertical'\\\">\\r\\n                <nz-card [nzBordered]=\\\"false\\\" nzTitle=\\\"合同管理\\\">\\r\\n                    <nz-row nzGutter=\\\"16\\\">\\r\\n                        <nz-col nzLg=\\\"6\\\" nzMd=\\\"12\\\" nzSm=\\\"24\\\">\\r\\n                            <nz-form-item>\\r\\n                                <nz-form-label nzFor=\\\"name\\\">合同编号</nz-form-label>\\r\\n                                <nz-form-control nzErrorTip=\\\"请输入合同编号，大于两个字符\\\" required>\\r\\n                                    <input nz-input formControlName=\\\"cno\\\" placeholder=\\\"请输入合同编号\\\" />\\r\\n                                </nz-form-control>\\r\\n                            </nz-form-item>\\r\\n                        </nz-col>\\r\\n                        <nz-col [nzXl]=\\\"{ span: 6, offset: 2 }\\\" [nzLg]=\\\"{ span: 8 }\\\" [nzMd]=\\\"{ span: 12 }\\\" nzSm=\\\"24\\\">\\r\\n                            <nz-form-item>\\r\\n                                <nz-form-label>合同名称</nz-form-label>\\r\\n                                <nz-form-control nzErrorTip=\\\"请输入合同名称，大于两个字符\\\" required>\\r\\n                                    <input nz-input formControlName=\\\"cname\\\" placeholder=\\\"请输入合同名称\\\" />\\r\\n                                </nz-form-control>\\r\\n                            </nz-form-item>\\r\\n                        </nz-col>\\r\\n                        <nz-col [nzXl]=\\\"{ span: 8, offset: 2 }\\\" [nzLg]=\\\"{ span: 10 }\\\" [nzMd]=\\\"{ span: 24 }\\\" nzSm=\\\"24\\\">\\r\\n                            <nz-form-item>\\r\\n                                <nz-form-label>项目类型</nz-form-label>\\r\\n                                <nz-form-control nzErrorTip=\\\"请选择项目类型\\\" required>\\r\\n                                    <nz-select formControlName=\\\"project_id\\\" placeholder=\\\"请选择项目类型\\\"\\r\\n                                        [(ngModel)]=\\\"selectedOption\\\" [nzPlaceHolder]=\\\"myPlaceHolder\\\" nzAllowClear\\r\\n                                        [nzShowSearch]=\\\"true\\\" [nzNotFoundContent]=\\\"'无匹配'\\\">\\r\\n                                        <nz-option *ngFor=\\\"let option of project_data\\\" [nzLabel]=\\\"option.pname\\\"\\r\\n                                            [nzValue]=\\\"option.id\\\" [nzDisabled]=\\\"option.disabled\\\">\\r\\n                                        </nz-option>\\r\\n                                    </nz-select>\\r\\n                                </nz-form-control>\\r\\n                            </nz-form-item>\\r\\n                        </nz-col>\\r\\n                    </nz-row>\\r\\n                    <nz-row nzGutter=\\\"16\\\">\\r\\n                        <nz-col nzLg=\\\"6\\\" nzMd=\\\"12\\\" nzSm=\\\"24\\\">\\r\\n                            <nz-form-item>\\r\\n                                <nz-form-label>甲方</nz-form-label>\\r\\n                                <nz-form-control nzErrorTip=\\\"请输入甲方，大于两个字符\\\" required>\\r\\n                                    <input nz-input formControlName=\\\"party_a\\\" placeholder=\\\"请输入甲方\\\" />\\r\\n                                </nz-form-control>\\r\\n                            </nz-form-item>\\r\\n                        </nz-col>\\r\\n                        <nz-col [nzXl]=\\\"{ span: 6, offset: 2 }\\\" [nzLg]=\\\"{ span: 8 }\\\" [nzMd]=\\\"{ span: 12 }\\\" nzSm=\\\"24\\\">\\r\\n                            <nz-form-item>\\r\\n                                <nz-form-label>乙方</nz-form-label>\\r\\n                                <nz-form-control nzErrorTip=\\\"请输入乙方，大于两个字符\\\" required>\\r\\n                                    <input nz-input formControlName=\\\"party_b\\\" placeholder=\\\"请输入乙方\\\" />\\r\\n                                </nz-form-control>\\r\\n                            </nz-form-item>\\r\\n                        </nz-col>\\r\\n                        <nz-col [nzXl]=\\\"{ span: 8, offset: 2 }\\\" [nzLg]=\\\"{ span: 10 }\\\" [nzMd]=\\\"{ span: 24 }\\\" nzSm=\\\"24\\\">\\r\\n                            <nz-form-item>\\r\\n                                <nz-form-label>合同额</nz-form-label>\\r\\n                                <nz-form-control nzErrorTip=\\\"请输入合同额，大于两个字符\\\" required>\\r\\n                                    <input nz-input formControlName=\\\"amount\\\" placeholder=\\\"请输入合同额\\\" />\\r\\n                                </nz-form-control>\\r\\n                            </nz-form-item>\\r\\n                        </nz-col>\\r\\n                    </nz-row>\\r\\n                    <nz-row>\\r\\n                        <nz-col nzLg=\\\"6\\\" nzMd=\\\"12\\\" nzSm=\\\"24\\\">\\r\\n                            <nz-form-item>\\r\\n                                <nz-form-label>签订日期</nz-form-label>\\r\\n                                <nz-form-control nzErrorTip=\\\"请选择签订日期\\\" required>\\r\\n                                    <nz-date-picker formControlName=\\\"sign_date\\\"></nz-date-picker>\\r\\n                                </nz-form-control>\\r\\n                            </nz-form-item>\\r\\n                        </nz-col>\\r\\n                        <nz-col [nzXl]=\\\"{ span: 6, offset: 2 }\\\" [nzLg]=\\\"{ span: 8 }\\\" [nzMd]=\\\"{ span: 12 }\\\" nzSm=\\\"24\\\">\\r\\n                            <nz-form-item>\\r\\n                                <nz-form-label>终止日期</nz-form-label>\\r\\n                                <nz-form-control nzErrorTip=\\\"请选择终止日期\\\" required>\\r\\n                                    <nz-date-picker formControlName=\\\"expiry_date\\\"></nz-date-picker>\\r\\n                                </nz-form-control>\\r\\n                            </nz-form-item>\\r\\n                        </nz-col>\\r\\n                        <nz-col [nzXl]=\\\"{ span: 8, offset: 2 }\\\" [nzLg]=\\\"{ span: 10 }\\\" [nzMd]=\\\"{ span: 24 }\\\" nzSm=\\\"24\\\">\\r\\n                            <nz-form-item>\\r\\n                                <nz-form-label>描述</nz-form-label>\\r\\n                                <nz-form-control nzErrorTip=\\\"请输入描述，大于两个字符\\\" required>\\r\\n                                    <textarea rows=\\\"1\\\" nz-input formControlName=\\\"comments\\\"\\r\\n                                        placeholder=\\\"请输入描述\\\"></textarea>\\r\\n                                </nz-form-control>\\r\\n                            </nz-form-item>\\r\\n                        </nz-col>\\r\\n                    </nz-row>\\r\\n                </nz-card>\\r\\n                <!-- 合同子表 -->\\r\\n                <nz-card [nzBordered]=\\\"false\\\" nzTitle=\\\"合同明细子表\\\">\\r\\n                    <nz-table formArrayName=\\\"contract_details\\\" [nzData]=\\\"contract_details.value\\\"\\r\\n                        [nzShowPagination]=\\\"false\\\">\\r\\n                        <thead>\\r\\n                            <tr>\\r\\n                                <th>笔次信息</th>\\r\\n                                <th>发票金额</th>\\r\\n                                <th>实付金额</th>\\r\\n                                <th>发票信息</th>\\r\\n                                <th>实付信息</th>\\r\\n                                <th>操作</th>\\r\\n                            </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                            <tr *ngFor=\\\"let item of contract_details.controls; let i = index\\\" [formGroupName]=\\\"i\\\">\\r\\n                                <td>\\r\\n                                    <span *ngIf=\\\"editIndex !== i\\\">{{ contract_details.value[i].issue_name }}</span>\\r\\n                                    <span *ngIf=\\\"editIndex === i\\\" nz-form-control nzErrorTip=\\\"请输入笔次信息\\\">\\r\\n                                        <input nz-input formControlName=\\\"issue_name\\\" placeholder=\\\"请输入笔次信息\\\" />\\r\\n                                    </span>\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    <span *ngIf=\\\"editIndex !== i\\\">{{ contract_details.value[i].invoice_amount }}</span>\\r\\n                                    <span *ngIf=\\\"editIndex === i\\\" nz-form-control nzErrorTip=\\\"请输入发票金额\\\">\\r\\n                                        <input nz-input formControlName=\\\"invoice_amount\\\" placeholder=\\\"发票金额\\\" />\\r\\n                                    </span>\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    <span *ngIf=\\\"editIndex !== i\\\">{{ contract_details.value[i].actual_payment }}</span>\\r\\n                                    <span *ngIf=\\\"editIndex === i\\\" nz-form-control nzErrorTip=\\\"请输入实付金额\\\">\\r\\n                                        <input nz-input formControlName=\\\"actual_payment\\\" placeholder=\\\"请输入实付金额\\\" />\\r\\n                                    </span>\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    <span *ngIf=\\\"editIndex !== i\\\">{{ contract_details.value[i].invoice_date }}</span>\\r\\n                                    <span *ngIf=\\\"editIndex === i\\\" nz-form-control nzErrorTip=\\\"请选择发票日期\\\">\\r\\n                                        <nz-date-picker formControlName=\\\"invoice_date\\\"></nz-date-picker>\\r\\n                                    </span>\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    <span *ngIf=\\\"editIndex !== i\\\">{{ contract_details.value[i].payment_date }}</span>\\r\\n                                    <span *ngIf=\\\"editIndex === i\\\" nz-form-control nzErrorTip=\\\"请选择实付日期\\\">\\r\\n                                        <nz-date-picker formControlName=\\\"payment_date\\\"></nz-date-picker>\\r\\n                                    </span>\\r\\n                                </td>\\r\\n                                <td>\\r\\n                                    <span *ngIf=\\\"editIndex !== i\\\">\\r\\n                                        <a (click)=\\\"edit(i)\\\">编辑</a>\\r\\n                                        <nz-divider nzType=\\\"vertical\\\"></nz-divider>\\r\\n                                        <nz-popconfirm (nzOnConfirm)=\\\"del(i)\\\" [nzTitle]=\\\"'是否要删除此行？'\\\">\\r\\n                                            <a nz-popconfirm>删除</a>\\r\\n                                        </nz-popconfirm>\\r\\n                                    </span>\\r\\n                                    <span *ngIf=\\\"editIndex === i\\\">\\r\\n                                        <a (click)=\\\"save(i)\\\">保存</a>\\r\\n                                        <nz-divider nzType=\\\"vertical\\\"></nz-divider>\\r\\n                                        <nz-popconfirm (nzOnConfirm)=\\\"cancel(i)\\\" [nzTitle]=\\\"'是否要取消操作？'\\\">\\r\\n                                            <a nz-popconfirm>取消</a>\\r\\n                                        </nz-popconfirm>\\r\\n                                    </span>\\r\\n                                </td>\\r\\n                            </tr>\\r\\n                        </tbody>\\r\\n                    </nz-table>\\r\\n                    <button *ngIf=\\\"editIndex === -1\\\" nz-button [nzType]=\\\"'dashed'\\\" (click)=\\\"add()\\\" nzBlock\\r\\n                        class=\\\"mt-md\\\">\\r\\n                        <i nz-icon nzType=\\\"plus\\\"></i>\\r\\n                        <span>新增明细</span>\\r\\n                    </button>\\r\\n                </nz-card>\\r\\n                <footer-toolbar errorCollect>\\r\\n                    <button nz-button class=\\\"ml-sm\\\" type=\\\"reset\\\">重置</button>\\r\\n                    <button nz-button type=\\\"submit\\\" nzType=\\\"primary\\\" [disabled]=\\\"form.invalid\\\"\\r\\n                        [nzLoading]=\\\"submitting\\\">提交</button>\\r\\n                </footer-toolbar>\\r\\n\\r\\n\\r\\n            </form>\\r\\n        </nz-card>\\r\\n    </div>\\r\\n</div>\"","module.exports = \"<div nz-row [nzGutter]=\\\"24\\\" class=\\\"pt-lg\\\">\\r\\n    <div nz-col nzXs=\\\"24\\\" nzSm=\\\"12\\\" nzMd=\\\"24\\\" class=\\\"mb-md\\\">\\r\\n        <nz-card [nzBordered]=\\\"false\\\" [nzTitle]=\\\"title\\\">\\r\\n            <form nz-form [nzLayout]=\\\"'inline'\\\" (ngSubmit)=\\\"getData()\\\" class=\\\"search__form\\\">\\r\\n                <div nz-row [nzGutter]=\\\"{ xs: 8, sm: 8, md: 8, lg: 24, xl: 48, xxl: 48 }\\\">\\r\\n                    <div nz-col nzMd=\\\"8\\\" nzSm=\\\"24\\\">\\r\\n                        <nz-form-item>\\r\\n                            <nz-form-label nzFor=\\\"no\\\">名称</nz-form-label>\\r\\n                            <nz-form-control>\\r\\n                                <input nz-input [(ngModel)]=\\\"q.cname\\\" name=\\\"cname\\\" placeholder=\\\"输入名称搜索\\\" id=\\\"cname\\\" />\\r\\n                            </nz-form-control>\\r\\n                        </nz-form-item>\\r\\n                    </div>\\r\\n\\r\\n                    <div nz-col [nzSpan]=\\\"expandForm ? 24 : 8\\\" [class.text-right]=\\\"expandForm\\\">\\r\\n                        <button nz-button type=\\\"submit\\\" [nzType]=\\\"'primary'\\\" [nzLoading]=\\\"loading\\\">查询</button>\\r\\n                        <button nz-button type=\\\"reset\\\" (click)=\\\"reset()\\\" class=\\\"mx-sm\\\">重置</button>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </form>\\r\\n            <div class=\\\"mb-md\\\">\\r\\n                <button nz-button (click)=\\\"add()\\\" [nzType]=\\\"'primary'\\\">\\r\\n                    <i nz-icon nzType=\\\"plus\\\"></i>\\r\\n                    <span>新建</span>\\r\\n                </button>\\r\\n            </div>\\r\\n\\r\\n            <nz-table #nzTable [nzData]=\\\"data\\\" [nzTotal]=\\\"total\\\" [nzPageSize]=\\\"q.ps\\\" [nzLoading]=\\\"loading\\\"\\r\\n                (nzPageIndexChange)=\\\"pageChange($event)\\\" nzShowSizeChanger>\\r\\n                <thead nz-thead (nzSortChange)=\\\"sort($event)\\\" nzSingleSort>\\r\\n                    <tr>\\r\\n                        <th nz-th nzShowSort nzSortKey=\\\"cno\\\">\\r\\n                            <span>编号</span>\\r\\n                        </th>\\r\\n                        <th nz-th nzShowSort nzSortKey=\\\"cname\\\">\\r\\n                            <span>名称</span>\\r\\n                        </th>\\r\\n                        <th nz-th nzShowSort nzSortKey=\\\"party_a\\\">\\r\\n                            <span>甲方</span>\\r\\n                        </th>\\r\\n                        <th nz-th nzShowSort nzSortKey=\\\"party_b\\\">\\r\\n                            <span>乙方</span>\\r\\n                        </th>\\r\\n                        <th nz-th nzShowSort nzSortKey=\\\"sign_date\\\">\\r\\n                            <span>签订日期</span>\\r\\n                        </th>\\r\\n                        <th nz-th nzShowSort nzSortKey=\\\"expiry_date\\\">\\r\\n                            <span>终止日期</span>\\r\\n                        </th>\\r\\n                        <th nz-th nzShowSort nzSortKey=\\\"amount\\\">\\r\\n                            <span>合同额</span>\\r\\n                        </th>\\r\\n                        <th nz-th nzShowSort nzSortKey=\\\"comments\\\">\\r\\n                            <span>描述</span>\\r\\n                        </th>\\r\\n                        <th nz-th nzShowSort nzSortKey=\\\"project_id\\\">\\r\\n                            <span>项目类型</span>\\r\\n                        </th>\\r\\n\\r\\n                        <th nz-th>\\r\\n                            <span>操作</span>\\r\\n                        </th>\\r\\n                    </tr>\\r\\n                </thead>\\r\\n                <tbody nz-tbody>\\r\\n                    <tr nz-tbody-tr *ngFor=\\\"let i of nzTable.data\\\">\\r\\n                        <td nz-td>{{i.cno}}</td>\\r\\n                        <td nz-td>{{i.cname}}</td>\\r\\n                        <td nz-td>{{i.party_a}}</td>\\r\\n                        <td nz-td>{{i.party_b}}</td>\\r\\n                        <td nz-td>{{i.sign_date}}</td>\\r\\n                        <td nz-td>{{i.expiry_date}}</td>\\r\\n                        <td nz-td>{{i.amount}}</td>\\r\\n                        <td nz-td>{{i.comments}}</td>\\r\\n                        <td nz-td>{{i.project_id}}</td>\\r\\n                        <td nz-td>\\r\\n                            <a (click)=\\\"modify(i.id)\\\">修改</a>\\r\\n                            <span nz-table-divider></span>\\r\\n                            <nz-divider nzType=\\\"vertical\\\"></nz-divider>\\r\\n                            <a (click)=\\\"remove(i)\\\">删除</a>\\r\\n                        </td>\\r\\n                    </tr>\\r\\n                </tbody>\\r\\n            </nz-table>\\r\\n        </nz-card>\\r\\n    </div>\\r\\n</div>\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ContractComponent } from './contract.component';\r\nimport { ContractFormComponent } from './form/contract-form.component';\r\nimport { ContractListComponent } from './list/contract-list.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ContractComponent,\r\n    children: [\r\n      { path: '', redirectTo: 'page', pathMatch: 'full' },\r\n      { path: 'page', component: ContractListComponent },\r\n      { path: 'form', component: ContractFormComponent },\r\n    ],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ContractRoutingModule { }\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  templateUrl: './contract.component.html',\r\n})\r\nexport class ContractComponent {\r\n  constructor() { }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { SharedModule } from '@shared/shared.module';\r\n\r\nimport { ContractRoutingModule } from './contract-routing.module';\r\nimport { ContractComponent } from './contract.component';\r\n\r\nimport { ContractFormComponent } from './form/contract-form.component';\r\nimport { ContractListComponent } from './list/contract-list.component';\r\n\r\nimport { ContractService } from './contract.service';\r\nimport { ProjectService } from '../project/project.service';\r\n\r\nconst COMPONENTS = [];\r\nconst COMPONENTS_NOROUNT = [];\r\n\r\n@NgModule({\r\n  imports: [\r\n    SharedModule,\r\n    ContractRoutingModule\r\n  ],\r\n  declarations: [\r\n    ...COMPONENTS,\r\n    ...COMPONENTS_NOROUNT,\r\n    ContractComponent,\r\n    ContractFormComponent,\r\n    ContractListComponent\r\n  ],\r\n  providers: [\r\n    ContractService,\r\n    ProjectService,\r\n  ],\r\n  entryComponents: COMPONENTS_NOROUNT\r\n})\r\nexport class ContractModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\n\r\nimport { baseUrl } from '../../shared/app-config';\r\nimport { setToken, setTokenAndParams } from '../../shared/utils/formmat';\r\n\r\n\r\n@Injectable()\r\nexport class ContractService {\r\n  constructor(private http: HttpClient) { }\r\n  url = baseUrl + 'contracts';\r\n  project_url = baseUrl + 'projects';\r\n  detail_url = baseUrl + 'contract_details';\r\n\r\n  contract: any = null;\r\n  //isUpdate = false;\r\n\r\n  listOnePage(q: any) {\r\n    return this.http.get(this.url, setTokenAndParams(q));\r\n  }\r\n\r\n  //获取合同明细页面\r\n  listDetailPage(q: any) {\r\n    return this.http.get(this.detail_url, setTokenAndParams(q));\r\n  }\r\n\r\n  getById(id) {\r\n    return this.http.get(this.url + `/${id}`, setToken());\r\n  }\r\n\r\n  add(obj) {\r\n    return this.http.post(this.url, obj, setToken());\r\n  }\r\n\r\n  update(id, obj) {\r\n    return this.http.put(this.url + `/${id}`, obj, setToken());\r\n  }\r\n\r\n  delete(id) {\r\n    return this.http.delete(this.url + `/${id}`, setToken());\r\n  }\r\n\r\n  formOperation = 'create';\r\n}\r\n","import { Component, OnInit, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators, FormControl, FormArray } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { NzMessageService } from 'ng-zorro-antd';\r\nimport { UploadFile } from 'ng-zorro-antd';\r\nimport { getFormatDateStr, getDateByDateStr } from '../../../shared/utils/datehandler';\r\nimport { ContractService } from '../contract.service';\r\nimport { ProjectService } from '../../project/project.service';\r\nimport { MessageRemindingService } from '../../../message-reminding.service';\r\n\r\n@Component({\r\n  templateUrl: './contract-form.component.html',\r\n  //styleUrls: ['./contract-form.component.less']\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\n\r\nexport class ContractFormComponent implements OnInit {\r\n  editIndex = -1;\r\n  editObj = {};\r\n\r\n  form: FormGroup;\r\n  submitting = false;\r\n  title: string;\r\n  contract: any = {};\r\n  options = [];  //接收select的数组\r\n\r\n  submit_audit = false;\r\n  submit_string = '提交';\r\n  // breadcrumbItem = { label: \"合同管理\", routerLink: \"/contract/form\" }\r\n\r\n  editable = true;\r\n  // channel: any;\r\n\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private msg: NzMessageService,\r\n    private cdr: ChangeDetectorRef,\r\n    private router: Router,\r\n    private srv: ContractService,\r\n    private projectService: ProjectService,\r\n    private wsSrv: MessageRemindingService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    //获取项目类型\r\n    this.getProjectData();\r\n    //消息提醒服务\r\n    // this.channel = this.wsSrv.getChannel(\"reminding:contract\");\r\n\r\n    let op = this.srv.formOperation;\r\n    if (op == 'create') this.initCreate();\r\n    if (op == 'update') this.initUpdate();\r\n    if (op == 'audit') this.initAudit();\r\n    if (op == 'show') this.initShow();\r\n    //if (this.srv.isUpdate) this.initUpdate();\r\n    //this.setTitle();\r\n    this.form = this.fb.group({\r\n      cno: [\r\n        this.contract.cno ? this.contract.cno : null,\r\n        Validators.compose([Validators.required, Validators.minLength(2)]),\r\n      ],\r\n      cname: [\r\n        this.contract.cname ? this.contract.cname : null,\r\n        Validators.compose([Validators.required, Validators.minLength(2)]),\r\n      ],\r\n      project_id: [this.contract.project_id ? this.contract.project_id : null],\r\n      party_a: [\r\n        this.contract.party_a ? this.contract.party_a : null,\r\n        Validators.compose([Validators.required, Validators.minLength(2)]),\r\n      ],\r\n      party_b: [\r\n        this.contract.party_b ? this.contract.party_b : null,\r\n        Validators.compose([Validators.required, Validators.minLength(2)]),\r\n      ],\r\n      sign_date: [this.contract.sign_date ? getDateByDateStr(this.contract.sign_date) : null, [Validators.required]],\r\n      expiry_date: [this.contract.expiry_date ? getDateByDateStr(this.contract.expiry_date) : null, [Validators.required]],\r\n      amount: [this.contract.amount ? this.contract.amount : null, [Validators.required]],\r\n      comments: [this.contract.comments ? this.contract.comments : null, []],\r\n\r\n      contract_details: this.fb.array([])\r\n    });\r\n    if ((op == 'update') || (op == 'audit' || (op == 'show'))) {\r\n      this.contract.contract_details ? this.contract.contract_details.forEach(i => {\r\n        const field = this.createDetail();\r\n        field.patchValue(i);\r\n        this.contract_details.push(field);\r\n      }) : console.log(\"this contract has no contract_details.\");\r\n    }\r\n  }\r\n\r\n  //新增明细\r\n  createDetail(): FormGroup {\r\n    return this.fb.group({\r\n      issue_name: [null, [Validators.required]],\r\n      invoice_amount: [null, [Validators.required]],\r\n      actual_payment: [null, [Validators.required]],\r\n      invoice_date: [null, [Validators.required]],\r\n      payment_date: [null, [Validators.required]],\r\n    });\r\n  }\r\n\r\n  //#region get form fields\r\n  get cno() { return this.form.controls.cno; }\r\n  get cname() { return this.form.controls.cname; }\r\n  get project_id() { return this.form.controls.project_id; }\r\n  get party_a() { return this.form.controls.party_a; }\r\n  get party_b() { return this.form.controls.party_b; }\r\n  get sign_date() { return this.form.controls.sign_date; }\r\n  get expiry_date() { return this.form.controls.expiry_date; }\r\n  get amount() { return this.form.controls.amount; }\r\n  get comments() { return this.form.controls.comments; }\r\n\r\n  get contract_details() { return this.form.controls.contract_details as FormArray; }\r\n\r\n  //#endregion\r\n  add() {\r\n    this.contract_details.push(this.createDetail());\r\n    this.edit(this.contract_details.length - 1);\r\n  }\r\n\r\n  del(index: number) {\r\n    this.contract_details.removeAt(index);\r\n\r\n  }\r\n\r\n  edit(index: number) {\r\n    if (this.editIndex !== -1 && this.editObj) {\r\n      this.contract_details.at(this.editIndex).patchValue(this.editObj);\r\n    }\r\n    this.editObj = { ...this.contract_details.at(index).value };\r\n    this.editIndex = index;\r\n  }\r\n\r\n  save(index: number) {\r\n    this.contract_details.at(index).markAsDirty();\r\n    if (this.contract_details.at(index).invalid) return;\r\n    this.editIndex = -1;\r\n  }\r\n\r\n  cancel(index: number) {\r\n    if (!this.contract_details.at(index).value.key) {\r\n      this.del(index);\r\n    } else {\r\n      this.contract_details.at(index).patchValue(this.editObj);\r\n    }\r\n    this.editIndex = -1;\r\n  }\r\n\r\n\r\n  //提交表\r\n  submit() {\r\n    console.log('表格提交')\r\n    for (const i in this.form.controls) {\r\n      this.form.controls[i].markAsDirty();\r\n    }\r\n    if (this.form.invalid) {\r\n      this.msg.info('ya! this.form.invalid!');\r\n      return;\r\n    }\r\n    if (this.form.valid) {\r\n      let op = this.srv.formOperation;\r\n      if (op == 'create') {\r\n        this.submitting = true;\r\n        const obj = this.formmatFormValue();\r\n        this.srv.add(obj).subscribe(resp => {\r\n          this.submitting = false;\r\n          if (resp['data']) this.msg.success(`保存成功！`);\r\n          this.wsSrv.channel.push(\"new_msg\", { body: localStorage.getItem(\"real_name\") + \" 创建了 \" + resp['data']['cname'] })\r\n          this.router.navigateByUrl('/contract/page');\r\n          this.cdr.detectChanges();\r\n        });\r\n      }\r\n      if (op == 'update') {\r\n        this.submitting = true;\r\n        const obj = this.formmatFormValue();\r\n        this.srv.update(this.contract.id, obj).subscribe(resp => {\r\n          if (resp['data']) {\r\n            this.submitting = false;\r\n            if (resp['data']) this.msg.success(`保存成功！`);\r\n            this.router.navigateByUrl('/contract/page');\r\n            this.cdr.detectChanges();\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n  goBack() {\r\n    this.router.navigateByUrl('/contract/page');\r\n\r\n  }\r\n  initCreate() {\r\n    this.title = '创建采购合同';\r\n    this.submit_string = '提交';\r\n    // this.breadcrumbItem = { label: this.title, routerLink: \"/contract/form\" };\r\n    //this.globalService.addBreadcrumbItem(this.breadcrumbItem);\r\n  }\r\n\r\n  initUpdate() {\r\n    this.title = '修改采购合同';\r\n    this.submit_string = '提交修改';\r\n    //this.contract = this.contractForPurchaseService.updateContract;\r\n    this.contract = this.srv.contract;\r\n  }\r\n\r\n  initAudit() {\r\n    this.title = '审核合同';\r\n    this.submit_audit = true;\r\n    this.editable = false;\r\n    this.submit_string = '审核通过';\r\n    //this.contract = this.contractForPurchaseService.updateContract;\r\n    this.contract = this.srv.contract;\r\n  }\r\n\r\n  initShow() {\r\n    this.title = '查看合同';\r\n    this.editable = false;\r\n    //this.contract = this.contractForPurchaseService.updateContract;\r\n    this.contract = this.srv.contract;\r\n  }\r\n\r\n  /* setTitle() {\r\n    if (this.srv.isUpdate) {\r\n      this.title = '修改合同';\r\n    } else this.title = '创建合同';\r\n  }*/\r\n\r\n  formmatFormValue() {\r\n    let obj = this.form.value;\r\n    obj.sign_date = getFormatDateStr(obj.sign_date);\r\n    return { contract: obj };\r\n  }\r\n\r\n  //获取项目类型\r\n  project_data: any[] = [];\r\n  p: any =\r\n    {\r\n      name: \"project_name\",\r\n    };\r\n\r\n\r\n  getProjectData() {\r\n    this.projectService.listAll().pipe()\r\n      .subscribe(\r\n        resp => {\r\n          this.project_data = resp['data'];\r\n          this.cdr.detectChanges();\r\n        })\r\n    console.log('项目类型', this.project_data)\r\n  }\r\n}\r\n","import { Component, OnInit, ViewChild, TemplateRef, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { NzMessageService, NzModalService } from 'ng-zorro-antd';\r\nimport { _HttpClient } from '@delon/theme';\r\nimport { tap } from 'rxjs/operators';\r\n\r\nimport { ContractService } from '../contract.service';\r\n\r\n@Component({\r\n  templateUrl: './contract-list.component.html',\r\n  //styleUrls: ['./contract-list.component.less'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\n\r\nexport class ContractListComponent implements OnInit {\r\n  title = '合同管理';\r\n  total = 0;\r\n  q: any = {\r\n    pi: 1,\r\n    ps: 10,\r\n    sort_field: 'sign_date',\r\n    sort_direction: 'desc',\r\n    cname: null,\r\n  };\r\n\r\n  data: any[] = [];\r\n  detailData: any[] = [];\r\n  idExpand: any;\r\n  loading = false;\r\n\r\n  expandForm = false;\r\n\r\n  constructor(\r\n    private http: _HttpClient,\r\n    public msg: NzMessageService,\r\n    private modalSrv: NzModalService,\r\n    private cdr: ChangeDetectorRef,\r\n    private srv: ContractService,\r\n    private router: Router,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.getData();\r\n  }\r\n\r\n  getData() {\r\n    this.loading = true;\r\n    this.srv\r\n      .listOnePage(this.q)\r\n      .pipe(tap(() => (this.loading = false)))\r\n      .subscribe(\r\n        resp => {\r\n          this.data = resp['data'];\r\n          this.cdr.detectChanges();\r\n        }\r\n      );\r\n  }\r\n\r\n  // getDetailData(id) {\r\n  //   console.log(this.idExpand + \"===\" + id);\r\n  //   this.idExpand = id;\r\n  //   this.srv\r\n  //     .getById(id)\r\n  //     .then(result => { this.detailData = result.contract_details })\r\n  // }\r\n\r\n  add(tpl: TemplateRef<{}>) {\r\n    //this.srv.isUpdate = false;\r\n    this.srv.formOperation = 'create';\r\n    this.router.navigateByUrl('/contract/form');\r\n  }\r\n\r\n  modify(id) {\r\n    //this.srv.isUpdate = true;\r\n    this.srv.formOperation = 'update';\r\n    this.srv.getById(id).subscribe(resp => {\r\n      this.srv.contract = resp['data'];\r\n      this.srv.contract.contract_details = resp['data'].details;\r\n      console.log(this.srv.contract)\r\n      this.router.navigateByUrl('/contract/form');\r\n    });\r\n  }\r\n\r\n  remove(item) {\r\n    this.modalSrv.create({\r\n      nzTitle: '确认删除',\r\n      nzContent: '确认要删除合同：' + item.cname + ' 吗?',\r\n      nzOnOk: () => {\r\n        this.loading = true;\r\n        this.srv.delete(item.id).subscribe(\r\n          resp => {\r\n            if (resp['data']) this.msg.success(`删除成功！`);\r\n            this.reset();\r\n          }\r\n        );\r\n      },\r\n    });\r\n  }\r\n\r\n  reset() {\r\n    setTimeout(() => this.getData());\r\n  }\r\n\r\n  pageChange(pi: number) {\r\n    this.q.pi = pi;\r\n    this.reset();\r\n  }\r\n\r\n  sort(sort: { key: string; value: string }): void {\r\n    this.q.sort_field = sort.key;\r\n    this.q.sort_direction = sort.value;\r\n    this.reset();\r\n  }\r\n}\r\n"],"sourceRoot":""}